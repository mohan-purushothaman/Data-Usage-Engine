
CREATE TABLE CUST_DETAILS
(
CUSTID VARCHAR(12) NOT NULL PRIMARY KEY,
BILL_CYCLE VARCHAR(2)
);

CREATE INDEX CUST_DETAILS_IX1
 ON CUST_DETAILS (CUSTID);
 
CREATE TABLE USAGE_INFO
(
CUSTID VARCHAR(12) NOT NULL ,
HR_1 NUMERIC(20) NOT NULL DEFAULT 0,
HR_2 NUMERIC(20) NOT NULL DEFAULT 0,
HR_3 NUMERIC(20) NOT NULL DEFAULT 0,
HR_4 NUMERIC(20) NOT NULL DEFAULT 0,
HR_5 NUMERIC(20) NOT NULL DEFAULT 0,
HR_6 NUMERIC(20) NOT NULL DEFAULT 0,
HR_7 NUMERIC(20) NOT NULL DEFAULT 0,
HR_8 NUMERIC(20) NOT NULL DEFAULT 0,
HR_9 NUMERIC(20) NOT NULL DEFAULT 0,
HR_10 NUMERIC(20) NOT NULL DEFAULT 0,
HR_11 NUMERIC(20) NOT NULL DEFAULT 0,
HR_12 NUMERIC(20) NOT NULL DEFAULT 0,
HR_13 NUMERIC(20) NOT NULL DEFAULT 0,
HR_14 NUMERIC(20) NOT NULL DEFAULT 0,
HR_15 NUMERIC(20) NOT NULL DEFAULT 0,
HR_16 NUMERIC(20) NOT NULL DEFAULT 0,
HR_17 NUMERIC(20) NOT NULL DEFAULT 0,
HR_18 NUMERIC(20) NOT NULL DEFAULT 0,
HR_19 NUMERIC(20) NOT NULL DEFAULT 0,
HR_20 NUMERIC(20) NOT NULL DEFAULT 0,
HR_21 NUMERIC(20) NOT NULL DEFAULT 0,
HR_22 NUMERIC(20) NOT NULL DEFAULT 0,
HR_23 NUMERIC(20) NOT NULL DEFAULT 0,
HR_24 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_1 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_2 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_3 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_4 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_5 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_6 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_7 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_8 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_9 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_10 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_11 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_12 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_13 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_14 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_15 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_16 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_17 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_18 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_19 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_20 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_21 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_22 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_23 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_24 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_25 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_26 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_27 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_28 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_29 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_30 NUMERIC(20) NOT NULL DEFAULT 0,
DAY_31 NUMERIC(20) NOT NULL DEFAULT 0,
MONTH_AGGR NUMERIC(21) NOT NULL DEFAULT 0
);
ALTER TABLE USAGE_INFO
 ADD CONSTRAINT fk_USAGE_INFO
 FOREIGN KEY (CUSTID)
 REFERENCES CUST_DETAILS(CUSTID);

CREATE INDEX USAGE_INFO_IX1
 ON USAGE_INFO (CUSTID);


CREATE TABLE MONTH_USAGE_HISTORY
(
CUSTID VARCHAR(12) NOT NULL ,
MONTHLY_USAGE NUMERIC(21) NOT NULL DEFAULT 0,
MONTH DATE
);
CREATE INDEX MONTH_USAGE_HISTORY_IX1
 ON MONTH_USAGE_HISTORY (CUSTID);

ALTER TABLE MONTH_USAGE_HISTORY
 ADD CONSTRAINT fk_MONTH_USAGE_HISTORY
 FOREIGN KEY (CUSTID)
 REFERENCES CUST_DETAILS(CUSTID);